                       Current Server TODO List

* rollback() when DB code tracebacks
* Permissions on RPMS must be sane
* CurrentError class ??
* How should SRPMS be handed.  Just the latest versions on disk or all of them

* Write slick apache configs to replace the typehandler.  The apache 
  configs will override the typehandler making things whiny.

* redo the logging so that current.log is empty for log_level 0 and
  perhaps 1 - access_log and error_log are all we need there.
  Keep error_log very small at 0, and still quiet at 1.
 
* we ignore channel versions during create/delete/listpackage. Fix that.
  Old channel versions might need to live for up to an hour, to give
  "logged in" clients a chance to expire.
 
* labelCompare wants None as the epoch component, not "" (empty string)
  we have a helper function, which is wrong, but thats ok, as we don't
  use it. narf.
 
* Fixup the perms checking code, and move it to the backend.

* Figure out how the heck to do sub-channels. Have to resolve deps using 
  the sub-channel and its parent.

* In the new web based, database backed current administrative system
  (which does't exist) it would be cool to include mod_status and 
  mod_config information.

  HTML templating: http://www.owlfish.com/software/simpleTAL/index.html
                   http://www.entrian.com/PyMeld/

* SQL Database support.  Possible use of a third party module to make
  our lives easier to support multiple databases?

  http://pdo.neurokode.com/

BUGS in 1.5.x so far:
postgres.makeChannel()
    We do the database bits first, commit(), then try the directory crap.
    If the directory crap fails, we can't run makeChannel() again to fix 
    it.
    Solution: db first, then try: filesystem crap: except: rollback else: 
    commit

postgres.initdb()
    Should we create the needed dirs here? I think so...

postgres.*
    All the api functions are returning 'ok' or 'fail' strings. 
    Fix this

postgres.addDir()
    Possible to add duplicate dir entries.
    Solution: add uniquness constrain on (channel_id, dirpathname)

_scanFilesystem() is done

    
1.6.0 ship checklist

More Code cleanups in general
Move all the db portable code from postgres.py to currentdb.py
Remove the src/bin distinction 
Make the scanning recursive.
Add cadmin API calls for querying
Add input checking into cadmin
Clean up the cmd line parsing in cadmin
Redo the deps handling in the database
Check on the use of transactions (where, how many, etc)

and poof, we're done. <sigh>



